{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fit Trackr</title>
  <link
    rel="shortcut icon"
    type="image/png"
    href="https://imgur.com/2m8UXn7.png"
  />
  {% tailwind_css %}
  {% block head %}
  {% endblock %}

</head>
<body style="background-color:#e3dfcc;">
  <header>
    <nav class="bg-black text-cream font-questrial h-18">
      <div class="container flex justify-between p-3 text-lg">
        
        {% comment %} our logo {% endcomment %}
        <a href="{% url 'user_dashboard' %}">
          <img class="w-28 md:w-32" src='https://imgur.com/2m8UXn7.png' alt="FitTrackr Logo" />
        </a>

        {% comment %} hamburger icon shows only on mobile {% endcomment %}
        <div class="block md:hidden">
          <button id="nav-toggle" class="text-cream focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
            </svg>
          </button>
        </div>

        {% comment %} for desktop {% endcomment %}
        <div class="hidden md:flex items-center justify-between space-x-10">
            {% if user.is_authenticated %}
            <div class=" flex gap-20">

              <div class=" flex gap-10 mr-24">
                  <a href="{% url 'set_goals' user.id %}">
                    <div class=" flex gap-1 hover:text-sage">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                      </svg>                          
                        Goals
                    </div>
                  </a>
                    
                  <a href="{% url 'create_workout' %}">
                  <div class=" flex gap-1 hover:text-sage">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                      </svg>                
                        Workout
                    </div>
                  </a>
    
                  <a href="{% url 'create_meals' %}">
                    <div class=" flex gap-1 hover:text-sage">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                      </svg>                
                        Meal
                    </div>
                  </a>
              </div>

              <div class=" flex gap-8">
                <a href="{% url 'user_dashboard' %}">
                  <div class=" flex gap-1 hover:text-sage">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                      </svg>
                      Home
                    </div>
                </a>
  
                <form id="logout-form" method="post" action="{% url 'logout' %}">
                  {% csrf_token %}
                  <div class=" flex gap-1 hover:text-sage">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25" />
                      </svg>
                      <button type="submit">Sign Out</button>
                  </div>
                </form>
              </div>
          
            </div>
            {% else %}
                <div class=" ml-auto flex gap-10">
                  <a class="hover:text-sage" href="{% url 'home' %}">Sign In</a>
                  <a class="hover:text-sage" href="{% url 'signup' %}">Sign Up</a>
                </div>
            {% endif %}
          </div>
          
      
      </div>

      <!-- Mobile Menu (hidden by default, toggled by hamburger) -->
      <div id="mobile-menu" class="hidden md:hidden z-50 fixed w-[60%] h-full bg-black text-cream py-4">
        <ul class="flex flex-col space-y-4 px-6 text-lg">
          {% if user.is_authenticated %}
            <li class=" hover:text-sage"><a href="{% url 'set_goals' user.id %}">Add Goals</a></li>
            <li class=" hover:text-sage"><a href="{% url 'create_workout' %}">Add Workout</a></li>
            <li class=" hover:text-sage"><a href="{% url 'create_meals' %}">Add Meal</a></li>
            <li class=" hover:text-sage"><a href="{% url 'user_dashboard' %}">Home</a></li>
            <li class=" hover:text-sage">
              <form id="logout-form" method="post" action="{% url 'logout' %}">
                {% csrf_token %}
                <button type="submit">Sign Out</button>
              </form>
            </li>
          {% else %}
            <li class=" hover:text-sage"><a href="{% url 'home' %}">Sign In</a></li>
            <li class=" hover:text-sage"><a href="{% url 'signup' %}">Sign Up</a></li>
          {% endif %}
        </ul>
      </div>
    </nav>

  </header>

  <main>
    {% block content %}
    {% endblock %}
  </main>

  <script>
    const navToggle = document.getElementById('nav-toggle');
    const mobileMenu = document.getElementById('mobile-menu');

    navToggle.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  </script>
</body>
</html>
