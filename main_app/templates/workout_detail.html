{% extends "base.html" %}
{% load static tailwind_tags %}

{% block head %}
{% tailwind_css %}
{% endblock head %}


{% block content %}


<a class=' text-red-600' href="{% url 'workout_log' %}">Back</a>

<div class=' mt-7'>
    <div>

       <p> {{ workout.day }}</p>
       <p>{{ workout.name }}</p>
       <p>Targets the: {{ workout.get_muscle_group_display }}</p>
       <p>Sets: {{ workout.sets }}</p>
       <p>Reps: {{ workout.reps }}</p>
       <p>Calorie Lost: {{ workout.calorie_lost }}</p>
       <p>Notes: {{ workout.notes }}</p>

    </div>
    <a href="{% rl 'workout_log' %}">Back</a>
</div>

<div id='workout-info'>

</div>

<div>
    <a href="{% url 'workout_update' workout.id %}">Edit</a>
    <a href="{% url 'workout_delete' workout.id %}">Delete</a>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#id_muscle_group').change(function() {
                const muscleGroup = $(this).val();
                
                $.ajax({
                    url: "{% url 'get_workouts_by_muscle_group' %}",
                    data: {
                        'muscle_group': muscleGroup
                    },
                    success: function(response) {
                        const workoutSelect = $('#id_name');
                        workoutSelect.empty();
                        
                        workoutSelect.append($('<option>', { 
                            value: '',
                            text : 'Select a workout'
                        }))
                        response.workouts.forEach(function(workout) {
                            workoutSelect.append($('<option>', { 
                                value: workout,
                                text : workout 
                            }))
                        })
                    }
                })
            })
        })
    </script>

{% endblock content %}



